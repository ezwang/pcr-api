// Generated by CoffeeScript 1.6.3
(function() {
  var root;

  root = typeof exports !== "undefined" && exports !== null ? exports : this;

  root.app = root.app ? root.app : {
    models: {},
    collections: {},
    views: {},
    templates: {}
  };

  $(function() {
    var _this = this;
    return $.ajax({
      url: "/cms/initial",
      success: function(data) {
        _this.initial_models = data;
        root.courses = new app.collections.Courses($.parseJSON(_this.initial_models).courses);
        root.users = new app.collections.Users($.parseJSON(_this.initial_models).users);
        String.prototype.capitalize = function() {
          return this.charAt(0).toUpperCase() + this.slice(1);
        };
        root.create_vent = _.extend({}, Backbone.Events);
        root.search_vent = _.extend({}, Backbone.Events);
        root.match_vent = _.extend({}, Backbone.Events);
        root.UserList = new app.views.UserListView({
          collection: users
        });
        root.CourseList = new app.views.CourseListView({
          collection: courses
        });
        root.SearchCourses = new app.views.SearchView;
        root.UserNew = new app.views.UserNewView;
        root.Stat = new app.views.StatView;
        $("#users-table-wrapper").html(UserList.render().el);
        $("#users-table-wrapper").append(UserNew.render().el);
        $("#courses-table-wrapper").html(CourseList.render().el);
        $("#search-wrapper").html(SearchCourses.render().el);
        return $("#stat-wrapper").html(Stat.render().el);
      }
    });
  });

}).call(this);
